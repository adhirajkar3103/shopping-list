{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Adhiraj\\\\Downloads\\\\react_fetch_api_data-main\\\\react_fetch_api_data-main\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport Header from './Header';\nimport SearchItem from './SearchItem';\nimport AddItem from './AddItem';\nimport Content from './Content';\nimport Footer from './Footer';\nimport { useState, useEffect } from 'react';\nimport apiRequest from './apiRequest';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const API_URL = 'http://localhost:3500/items';\n  const [items, setItems] = useState([]);\n  const [newItem, setNewItem] = useState('');\n  const [search, setSearch] = useState('');\n  const [fetchError, setFetchError] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  useEffect(() => {\n    const fetchItems = async () => {\n      try {\n        const response = await fetch(API_URL);\n        if (!response.ok) throw Error('Did not receive expected data');\n        const listItems = await response.json();\n        setItems(listItems);\n        setFetchError(null);\n      } catch (err) {\n        setFetchError(err.message);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    setTimeout(() => fetchItems(), 2000);\n  }, []);\n\n  const addItem = async item => {\n    const id = items.length ? items[items.length - 1].id + 1 : 1;\n    const myNewItem = {\n      id,\n      checked: false,\n      item\n    };\n    const listItems = [...items, myNewItem];\n    setItems(listItems);\n    const postOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(myNewItem)\n    };\n    const result = await apiRequest(API_URL, postOptions);\n    if (result) setFetchError(result);\n  };\n\n  const handleCheck = async id => {\n    const listItems = items.map(item => item.id === id ? { ...item,\n      checked: !item.checked\n    } : item);\n    setItems(listItems);\n    const myItem = listItems.filter(item => item.id === id);\n    const updateOptions = {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        checked: myItem[0].checked\n      })\n    };\n    const reqUrl = `${API_URL}/${id}`;\n    const result = await apiRequest(reqUrl, updateOptions);\n    if (result) setFetchError(result);\n  };\n\n  const handleDelete = async id => {\n    const listItems = items.filter(item => item.id !== id);\n    setItems(listItems);\n    const deleteOptions = {\n      method: 'DELETE'\n    };\n    const reqUrl = `${API_URL}/${id}`;\n    const result = await apiRequest(reqUrl, deleteOptions);\n    if (result) setFetchError(result);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (!newItem) return;\n    addItem(newItem);\n    setNewItem('');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      title: \"Shopping List\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AddItem, {\n      newItem: newItem,\n      setNewItem: setNewItem,\n      handleSubmit: handleSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SearchItem, {\n      search: search,\n      setSearch: setSearch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      children: [isLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading Items...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 23\n      }, this), fetchError && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: \"red\"\n        },\n        children: `Error: ${fetchError}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 24\n      }, this), !fetchError && !isLoading && /*#__PURE__*/_jsxDEV(Content, {\n        items: items.filter(item => item.item.toLowerCase().includes(search.toLowerCase())),\n        handleCheck: handleCheck,\n        handleDelete: handleDelete\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 39\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {\n      length: items.length\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"spwpSsnA5ymrnZZJVLMPTm2K2L0=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/Adhiraj/Downloads/react_fetch_api_data-main/react_fetch_api_data-main/src/App.js"],"names":["Header","SearchItem","AddItem","Content","Footer","useState","useEffect","apiRequest","App","API_URL","items","setItems","newItem","setNewItem","search","setSearch","fetchError","setFetchError","isLoading","setIsLoading","fetchItems","response","fetch","ok","Error","listItems","json","err","message","setTimeout","addItem","item","id","length","myNewItem","checked","postOptions","method","headers","body","JSON","stringify","result","handleCheck","map","myItem","filter","updateOptions","reqUrl","handleDelete","deleteOptions","handleSubmit","e","preventDefault","color","toLowerCase","includes"],"mappings":"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","sourcesContent":["import Header from './Header';\nimport SearchItem from './SearchItem';\nimport AddItem from './AddItem';\nimport Content from './Content';\nimport Footer from './Footer';\nimport { useState, useEffect } from 'react';\nimport apiRequest from './apiRequest';\n\nfunction App() {\n  const API_URL = 'http://localhost:3500/items';\n\n  const [items, setItems] = useState([]);\n  const [newItem, setNewItem] = useState('');\n  const [search, setSearch] = useState('');\n  const [fetchError, setFetchError] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n\n    const fetchItems = async () => {\n      try {\n        const response = await fetch(API_URL);\n        if (!response.ok) throw Error('Did not receive expected data');\n        const listItems = await response.json();\n        setItems(listItems);\n        setFetchError(null);\n      } catch (err) {\n        setFetchError(err.message);\n      } finally {\n        setIsLoading(false);\n      }\n    }\n\n    setTimeout(() => fetchItems(), 2000);\n\n  }, [])\n\n  const addItem = async (item) => {\n    const id = items.length ? items[items.length - 1].id + 1 : 1;\n    const myNewItem = { id, checked: false, item };\n    const listItems = [...items, myNewItem];\n    setItems(listItems);\n\n    const postOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(myNewItem)\n    }\n    const result = await apiRequest(API_URL, postOptions);\n    if (result) setFetchError(result);\n  }\n\n  const handleCheck = async (id) => {\n    const listItems = items.map((item) => item.id === id ? { ...item, checked: !item.checked } : item);\n    setItems(listItems);\n\n    const myItem = listItems.filter((item) => item.id === id);\n    const updateOptions = {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({ checked: myItem[0].checked })\n    };\n    const reqUrl = `${API_URL}/${id}`;\n    const result = await apiRequest(reqUrl, updateOptions);\n    if (result) setFetchError(result);\n  }\n\n  const handleDelete = async (id) => {\n    const listItems = items.filter((item) => item.id !== id);\n    setItems(listItems);\n\n    const deleteOptions = { method: 'DELETE' };\n    const reqUrl = `${API_URL}/${id}`;\n    const result = await apiRequest(reqUrl, deleteOptions);\n    if (result) setFetchError(result);\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (!newItem) return;\n    addItem(newItem);\n    setNewItem('');\n  }\n\n  return (\n    <div className=\"App\">\n      <Header title=\"Shopping List\" />\n      <AddItem\n        newItem={newItem}\n        setNewItem={setNewItem}\n        handleSubmit={handleSubmit}\n      />\n      <SearchItem\n        search={search}\n        setSearch={setSearch}\n      />\n      <main>\n        {isLoading && <p>Loading Items...</p>}\n        {fetchError && <p style={{ color: \"red\" }}>{`Error: ${fetchError}`}</p>}\n        {!fetchError && !isLoading && <Content\n          items={items.filter(item => ((item.item).toLowerCase()).includes(search.toLowerCase()))}\n          handleCheck={handleCheck}\n          handleDelete={handleDelete}\n        />}\n      </main>\n      <Footer length={items.length} />\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}